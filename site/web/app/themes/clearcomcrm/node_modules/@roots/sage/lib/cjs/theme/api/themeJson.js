"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.method = void 0;
const bud_support_1 = require("@roots/bud-support");
const { isFunction } = bud_support_1.lodash;
const getContainerOptions = (app) => app.extensions.get('wp-theme-json').options;
const getRawOptions = (app) => app.extensions.get('wp-theme-json').options.all();
const method = async function (input, raw) {
    const app = this;
    if (!app.extensions.has('wp-theme-json'))
        return;
    app.extensions.get('wp-theme-json').set('when', true);
    if (!input)
        return app;
    isFunction(input)
        ? app.extensions
            .get('wp-theme-json')
            .setOption('settings', raw === true ? getRawOptions(app) : getContainerOptions(app))
        : app.extensions.get('wp-theme-json').setOption('settings', input);
    return app;
};
exports.method = method;
